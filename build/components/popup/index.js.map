{"version":3,"file":"index.js","sources":["../../../src/components/popup/index.tsx"],"sourcesContent":["import Button from \"../../components/button/button\";\nimport Image from \"../../components/image\";\nimport { CloseIcon, CloseT2Icon } from \"../../icons\";\nimport React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './styles.scss';\n\ninterface IPopupProps extends React.HTMLAttributes<HTMLDivElement> {\n    title?: string;\n    subTitle?: string;\n    image?: string;\n    imageSize: 'large' | 'small' | 'none';\n    mainButton?: string;\n    onMainButtonClick?: React.MouseEventHandler;\n    subButton?: string;\n    onSubButtonClick?: React.MouseEventHandler;\n    open: Boolean;\n    onClose?: React.MouseEventHandler;\n    clickOutsideToClose?: Boolean;\n}\n\nconst PopupJsx = (props: IPopupProps) => {\n    const { open = false, clickOutsideToClose = true, onClose = () => {}, title, subTitle, image, imageSize, mainButton, onMainButtonClick = () => {}, subButton, onSubButtonClick = () => {}, children, className, ...rest } = props;\n    const [openPopup, setOpenPopup] = useState<Boolean>(open);\n    const [showContent, setShowContent] = useState<Boolean>(false);\n\n    useEffect(() => {\n        setOpenPopup(open);\n        let id = setTimeout(() => setShowContent(open), 50)\n        return () => clearTimeout(id)\n    }, [open])\n\n    useEffect(() => {\n        if (open) {\n            document.body.style.overflow = 'hidden';\n        } else {\n            document.body.style.overflow = 'unset';\n        }\n    }, [open])\n    \n    if (!openPopup) {\n        return (\n            <></>\n        )\n    }\n\n    return (\n        <div id='imiui-popup-wrapper' {...rest} className={`imiui-popup${className ? ` ${className}` : ''}`}>\n            <div className={`content${children ? '' : ` ${imageSize}`}${showContent ? ` popup-with-anim` : ''} `}>\n                {children ?\n                    children\n                :\n                    <>\n                        <button className=\"close\" onClick={onClose}>{imageSize === 'large' ? <CloseT2Icon /> : <CloseIcon /> }</button>\n                        {imageSize === 'large' && <Image alt='popup-img' src={image} className={`image`} />}\n                        <div className=\"wrapper\">\n                            {imageSize === 'small' && <Image alt='popup-img' src={image} className={`image`} />}\n                            <span className=\"title t-label-bold-small\">{title}</span>\n                            <span className=\"sub-title t-label-regular-tiny\">{subTitle}</span>\n                            <div className={`button-container`}>\n                                <Button type='primary' size={40} className='main-button' onClick={onMainButtonClick}>{mainButton}</Button>\n                                {subButton && <Button type={imageSize !== 'none' ? 'tertiary' : 'secondary'} size={40} className='sub-button' onClick={onSubButtonClick}>{subButton}</Button>}\n                            </div>\n                        </div>\n                    </>\n                }\n            </div>\n            {open && <div className=\"overlay\" onClick={clickOutsideToClose ? onClose : () => {}}/>}\n        </div>\n    )\n}\n\nconst Popup = (props: IPopupProps) => {\n    return ReactDOM.createPortal(<PopupJsx {...props}/>, document.querySelector('body'))\n}\n\nexport default Popup;"],"names":[],"mappings":"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"}