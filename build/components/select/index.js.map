{"version":3,"file":"index.js","sources":["../../../src/components/select/index.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { useClickAnyWhere, useOnClickOutside } from \"../../hooks\";\nimport { ArrowDownSpecialIcon } from \"../../icons\";\nimport Card from \"../card\";\nimport Input from \"../input\";\nimport './styles.scss';\n\ninterface ISelectItem {\n    label: string;\n    value: any;\n}\n\ninterface ISelect extends React.HTMLProps<HTMLInputElement> {\n    options?: Array<ISelectItem>;\n    renderOption?: Function;\n}\n\nconst Select = (props: ISelect) => {\n    const {options, renderOption, ...rest} = props;\n    const [showOptions, setShowOptions] = useState(false);\n    const ref = useRef(null)\n\n    useOnClickOutside(ref, () => setShowOptions(false))\n    \n    const onInputChange = (event: any, option: any) => {\n        if (option) {\n            event.target.value = option;\n            rest.onChange(event)\n        } else {\n            rest.onChange(event)\n        }\n        let timer = setTimeout(() => {\n            setShowOptions(false)\n            clearTimeout(timer)\n        }, 50)\n    }\n\n    return (\n        <div className=\"imiui-select\" ref={ref} onClick={() => setShowOptions(true)}>\n            <Input \n                {...rest}\n                disabled\n                readOnly\n                withLabel={true}\n                endIcon={<ArrowDownSpecialIcon fill=\"var(--imiui-gray-200)\"/>}\n            />\n            {showOptions && <Card className=\"options\" variant='dialogue'>\n                {options.map((option, index) => {\n                    return (\n                        <button key={index} onClick={(event) => onInputChange(event, option.value)} className={'t-label-regular-tiny'}>\n                            {renderOption(option)}\n                        </button>\n                    )\n                })}\n            </Card>}\n        </div>\n    )\n}\n\nexport default Select"],"names":[],"mappings":";;;;;;;;AAiBM,IAAA,MAAM,GAAG,UAAC,KAAc,EAAA;AACnB,IAAA,IAAA,OAAO,GAA2B,KAAK,CAAhC,OAAA,EAAE,YAAY,GAAa,KAAK,CAAlB,YAAA,EAAK,IAAI,GAAI,MAAA,CAAA,KAAK,EAAxC,CAAA,SAAA,EAAA,cAAA,CAAgC,CAAD,CAAU;IACzC,IAAA,EAAA,GAAgC,QAAQ,CAAC,KAAK,CAAC,EAA9C,WAAW,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,cAAc,GAAA,EAAA,CAAA,CAAA,CAAmB,CAAC;AACtD,IAAA,IAAM,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,CAAA;AAExB,IAAA,iBAAiB,CAAC,GAAG,EAAE,YAAA,EAAM,OAAA,cAAc,CAAC,KAAK,CAAC,CAAA,EAAA,CAAC,CAAA;AAEnD,IAAA,IAAM,aAAa,GAAG,UAAC,KAAU,EAAE,MAAW,EAAA;AAC1C,QAAA,IAAI,MAAM,EAAE;AACR,YAAA,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC;AAC5B,YAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;AACvB,SAAA;AAAM,aAAA;AACH,YAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;AACvB,SAAA;QACD,IAAI,KAAK,GAAG,UAAU,CAAC,YAAA;YACnB,cAAc,CAAC,KAAK,CAAC,CAAA;YACrB,YAAY,CAAC,KAAK,CAAC,CAAA;SACtB,EAAE,EAAE,CAAC,CAAA;AACV,KAAC,CAAA;AAED,IAAA,QACI,KAAK,CAAA,aAAA,CAAA,KAAA,EAAA,EAAA,SAAS,EAAC,cAAc,EAAC,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,cAAM,OAAA,cAAc,CAAC,IAAI,CAAC,GAAA,EAAA;QACvE,KAAC,CAAA,aAAA,CAAA,KAAK,eACE,IAAI,EAAA,EACR,QAAQ,EACR,IAAA,EAAA,QAAQ,QACR,SAAS,EAAE,IAAI,EACf,OAAO,EAAE,KAAC,CAAA,aAAA,CAAA,oBAAoB,IAAC,IAAI,EAAC,uBAAuB,EAAA,CAAE,EAC/D,CAAA,CAAA;AACD,QAAA,WAAW,IAAI,KAAC,CAAA,aAAA,CAAA,IAAI,IAAC,SAAS,EAAC,SAAS,EAAC,OAAO,EAAC,UAAU,EAAA,EACvD,OAAO,CAAC,GAAG,CAAC,UAAC,MAAM,EAAE,KAAK,EAAA;AACvB,YAAA,QACI,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA,EAAQ,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,UAAC,KAAK,EAAA,EAAK,OAAA,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,CAAlC,EAAkC,EAAE,SAAS,EAAE,sBAAsB,EAAA,EACxG,YAAY,CAAC,MAAM,CAAC,CAChB,EACZ;AACL,SAAC,CAAC,CACC,CACL,EACT;AACL;;;;"}