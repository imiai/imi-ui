{"version":3,"file":"index.js","sources":["../../../src/components/avatar/index.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport './styles.scss';\n\ninterface IAvatarProps {\n    src?: string,\n    name?: string,\n    unitString?: string,\n    size?: 20 | 30 | 46;\n}\n\nconst arrBgColor = ['#039be5', '#dce775', '#43a047', '#689f38', '#f9a825', '#ff8f00', '#ef6c00', '#37474f', '#607d8b', '#8d6e63', '#8d6e63', '#bf360c'];\n\nconst Avatar = (props: IAvatarProps) => {\n    const { src = '', name = '', size = 20 } = props;\n    const [isError, setIsError] = useState(false);\n\n    const getBgColor = (unitString: string) => {\n        let charIndex = 0;\n        if (unitString && unitString.length > 0) {\n            unitString.split('').map(char => {\n                charIndex += char.charCodeAt(0);\n            })\n        }\n        let bgIndex = Math.floor(charIndex % arrBgColor.length)\n        return arrBgColor[bgIndex];\n    }\n\n    return (\n        <div className=\"imiui-avatar\">\n            {src && !isError\n                ?\n                <img alt='' src={src} onError={() => setIsError(true)} className={`img img-${size}`}/>\n                :\n                <div className={`img img-${size}`} style={{background: getBgColor(name)}}>\n                    <span>{name[0]}</span>\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default Avatar"],"names":[],"mappings":";;;AAUA,IAAM,UAAU,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;AAElJ,IAAA,MAAM,GAAG,UAAC,KAAmB,EAAA;IACvB,IAAA,EAAA,GAAmC,KAAK,CAAA,GAAhC,EAAR,GAAG,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,EAAE,GAAA,EAAA,EAAE,EAAyB,GAAA,KAAK,CAArB,IAAA,EAAT,IAAI,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,EAAE,GAAA,EAAA,EAAE,EAAc,GAAA,KAAK,CAAV,IAAA,EAAT,IAAI,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAE,GAAA,EAAA,CAAW;IAC3C,IAAA,EAAA,GAAwB,QAAQ,CAAC,KAAK,CAAC,EAAtC,OAAO,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,UAAU,GAAA,EAAA,CAAA,CAAA,CAAmB,CAAC;IAE9C,IAAM,UAAU,GAAG,UAAC,UAAkB,EAAA;QAClC,IAAI,SAAS,GAAG,CAAC,CAAC;AAClB,QAAA,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACrC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,UAAA,IAAI,EAAA;AACzB,gBAAA,SAAS,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACpC,aAAC,CAAC,CAAA;AACL,SAAA;AACD,QAAA,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,UAAU,CAAC,MAAM,CAAC,CAAA;AACvD,QAAA,OAAO,UAAU,CAAC,OAAO,CAAC,CAAC;AAC/B,KAAC,CAAA;IAED,QACI,6BAAK,SAAS,EAAC,cAAc,EACxB,EAAA,GAAG,IAAI,CAAC,OAAO;;YAEZ,KAAK,CAAA,aAAA,CAAA,KAAA,EAAA,EAAA,GAAG,EAAC,EAAE,EAAC,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,YAAM,EAAA,OAAA,UAAU,CAAC,IAAI,CAAC,CAAA,EAAA,EAAE,SAAS,EAAE,UAAA,CAAA,MAAA,CAAW,IAAI,CAAE,EAAG,CAAA;;AAEtF,YAAA,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,UAAW,CAAA,MAAA,CAAA,IAAI,CAAE,EAAE,KAAK,EAAE,EAAC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,EAAC,EAAA;gBACpE,KAAO,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EAAA,IAAI,CAAC,CAAC,CAAC,CAAQ,CACpB,CAER,EACT;AACL;;;;"}