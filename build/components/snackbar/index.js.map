{"version":3,"file":"index.js","sources":["../../../src/components/snackbar/index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport './styles.scss';\n\ninterface AnchorOriginProps {\n    vertical: 'bottom' | 'top';\n    horizontal: 'center' | 'left' | 'right';\n}\n\ninterface ISnackbarProps {\n    icon?: React.ReactNode;\n    title?: string;\n    titleClassName?: string;\n    content?: string;\n    autoHideDuration?: number;\n    onClose?: Function;\n    anchorOrigin?: AnchorOriginProps;\n    open?: Boolean;\n}\n\nconst Snackbar = (props: ISnackbarProps) => {\n    const { titleClassName = '', icon, title, content, autoHideDuration = 6000, onClose, open, anchorOrigin = { horizontal: 'center', vertical: 'top' } } = props;\n    const [openSnackbar, setOpenSnackbar] = useState(open);\n\n    useEffect(() => {\n        let id = setTimeout(() => {\n            setOpenSnackbar(open)\n        }, 50)\n        return () => clearTimeout(id)\n    }, [open])\n\n    const onCloseSnackbar = useCallback(() => {\n        setOpenSnackbar(false);\n        let timer = setTimeout(() => {\n            onClose && onClose();\n            clearTimeout(timer);\n        }, 200)\n    }, [onClose]);\n\n    const setAutoHideTimer = useCallback((autoHideDuration: number) => {\n        if (!onClose) {\n            return;\n        }\n        let timer = setTimeout(() => {\n            onCloseSnackbar();\n            clearTimeout(timer);\n        }, autoHideDuration)\n    }, [onClose, onCloseSnackbar]);\n\n    useEffect(() => {\n        if (open && autoHideDuration) {\n            setAutoHideTimer(autoHideDuration)\n        }\n    }, [open, autoHideDuration, setAutoHideTimer])\n\n    if (!open) {\n        return <></>\n    }\n\n    return (\n        <div className={`imiui-snackbar ${anchorOrigin.horizontal} ${openSnackbar ? 'show' : ''} ${anchorOrigin.vertical}`}>\n            {icon}\n            <p className=\"message t-label-regular-tiny m-0\"><span className={`title ${titleClassName}`}>{title}</span> <span>{content}</span></p>\n        </div>\n    )\n}\n\nexport default Snackbar;"],"names":[],"mappings":";;;AAmBM,IAAA,QAAQ,GAAG,UAAC,KAAqB,EAAA;IAC3B,IAAA,EAAA,GAAgJ,KAAK,CAAA,cAAlI,EAAnB,cAAc,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,EAAE,GAAA,EAAA,EAAE,IAAI,GAAuH,KAAK,CAAA,IAA5H,EAAE,KAAK,GAAgH,KAAK,CAArH,KAAA,EAAE,OAAO,GAAuG,KAAK,CAAA,OAA5G,EAAE,EAAA,GAAqG,KAAK,CAAA,gBAAnF,EAAvB,gBAAgB,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,IAAI,GAAA,EAAA,EAAE,OAAO,GAAqE,KAAK,CAAA,OAA1E,EAAE,IAAI,GAA+D,KAAK,CAApE,IAAA,EAAE,EAA6D,GAAA,KAAK,CAAV,YAAA,EAAxD,YAAY,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAA,EAAA,CAAW;IACxJ,IAAA,EAAA,GAAkC,QAAQ,CAAC,IAAI,CAAC,EAA/C,YAAY,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,eAAe,GAAA,EAAA,CAAA,CAAA,CAAkB,CAAC;AAEvD,IAAA,SAAS,CAAC,YAAA;QACN,IAAI,EAAE,GAAG,UAAU,CAAC,YAAA;YAChB,eAAe,CAAC,IAAI,CAAC,CAAA;SACxB,EAAE,EAAE,CAAC,CAAA;QACN,OAAO,YAAA,EAAM,OAAA,YAAY,CAAC,EAAE,CAAC,CAAA,EAAA,CAAA;AACjC,KAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAA;IAEV,IAAM,eAAe,GAAG,WAAW,CAAC,YAAA;QAChC,eAAe,CAAC,KAAK,CAAC,CAAC;QACvB,IAAI,KAAK,GAAG,UAAU,CAAC,YAAA;YACnB,OAAO,IAAI,OAAO,EAAE,CAAC;YACrB,YAAY,CAAC,KAAK,CAAC,CAAC;SACvB,EAAE,GAAG,CAAC,CAAA;AACX,KAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;AAEd,IAAA,IAAM,gBAAgB,GAAG,WAAW,CAAC,UAAC,gBAAwB,EAAA;QAC1D,IAAI,CAAC,OAAO,EAAE;YACV,OAAO;AACV,SAAA;QACD,IAAI,KAAK,GAAG,UAAU,CAAC,YAAA;AACnB,YAAA,eAAe,EAAE,CAAC;YAClB,YAAY,CAAC,KAAK,CAAC,CAAC;SACvB,EAAE,gBAAgB,CAAC,CAAA;AACxB,KAAC,EAAE,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC,CAAC;AAE/B,IAAA,SAAS,CAAC,YAAA;QACN,IAAI,IAAI,IAAI,gBAAgB,EAAE;YAC1B,gBAAgB,CAAC,gBAAgB,CAAC,CAAA;AACrC,SAAA;KACJ,EAAE,CAAC,IAAI,EAAE,gBAAgB,EAAE,gBAAgB,CAAC,CAAC,CAAA;IAE9C,IAAI,CAAC,IAAI,EAAE;AACP,QAAA,OAAO,yCAAK,CAAA;AACf,KAAA;IAED,QACI,6BAAK,SAAS,EAAE,yBAAkB,YAAY,CAAC,UAAU,EAAA,GAAA,CAAA,CAAA,MAAA,CAAI,YAAY,GAAG,MAAM,GAAG,EAAE,EAAI,GAAA,CAAA,CAAA,MAAA,CAAA,YAAY,CAAC,QAAQ,CAAE,EAAA;QAC7G,IAAI;QACL,KAAG,CAAA,aAAA,CAAA,GAAA,EAAA,EAAA,SAAS,EAAC,kCAAkC,EAAA;AAAC,YAAA,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAE,QAAA,CAAA,MAAA,CAAS,cAAc,CAAE,EAAA,EAAG,KAAK,CAAQ;;AAAC,YAAA,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EAAO,OAAO,CAAQ,CAAI,CACnI,EACT;AACL;;;;"}