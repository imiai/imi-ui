{"version":3,"file":"index.js","sources":["../../../src/components/snackbar/index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CheckIcon, CloseIcon, CloseT2Icon, InfoIcon, WarningIcon } from \"../../icons\";\nimport './styles.scss';\n\ninterface ISnackbarProps {\n    content?: string;\n    autoHideDuration?: number;\n    onClose?: Function;\n    open?: Boolean;\n    type?: string;\n    showCloseButton?: Boolean;\n}\n\nconst SnackbarJsx = (props: ISnackbarProps) => {\n    const { showCloseButton = false, content, autoHideDuration = 6000, onClose, open, type = 'info' } = props;\n    const [openSnackbar, setOpenSnackbar] = useState(open);\n\n    useEffect(() => {\n        let id = setTimeout(() => {\n            setOpenSnackbar(open)\n        }, 50)\n        return () => clearTimeout(id)\n    }, [open])\n\n    const onCloseSnackbar = useCallback(() => {\n        setOpenSnackbar(false);\n        let timer = setTimeout(() => {\n            onClose && onClose();\n            clearTimeout(timer);\n        }, 200)\n    }, [onClose]);\n\n    const setAutoHideTimer = useCallback((autoHideDuration: number) => {\n        if (!onClose) {\n            return;\n        }\n        let timer = setTimeout(() => {\n            onCloseSnackbar();\n            clearTimeout(timer);\n        }, autoHideDuration)\n    }, [onClose, onCloseSnackbar]);\n\n    useEffect(() => {\n        if (open && autoHideDuration) {\n            setAutoHideTimer(autoHideDuration)\n        }\n    }, [open, autoHideDuration, setAutoHideTimer])\n\n    if (!open) {\n        return <></>\n    }\n\n    return (\n        <div className={`imiui-snackbar ${type} ${openSnackbar ? 'show' : ''}`}>\n            {type === 'info' && <InfoIcon fill=\"var(--imiui-primary-white)\" />}\n            {type === 'success' && <CheckIcon fill=\"var(--imiui-primary-white)\"/>}\n            {type === 'warning' && <WarningIcon fill=\"var(--imiui-primary-white)\"/>}\n            {type === 'error' && <CloseT2Icon fill=\"var(--imiui-primary-white)\"/>}\n            <span className=\"message t-label-regular-tiny ml-4\">{content}</span>\n            {showCloseButton && <button onClick={() => onClose()} className={'close-button'}>\n                <CloseIcon fill=\"var(--imiui-primary-white)\"/>\n            </button>}\n        </div>\n    )\n}\n\n\nconst Snackbar = (props: ISnackbarProps) => {\n    return ReactDOM.createPortal(<SnackbarJsx {...props} />, document.querySelector('body'))\n}\n\nexport default Snackbar;"],"names":[],"mappings":"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"}