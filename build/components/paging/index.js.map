{"version":3,"file":"index.js","sources":["../../../src/components/paging/index.tsx"],"sourcesContent":["import { ArrowLeftIcon, ArrowRightIcon } from '../../icons';\nimport React, { useEffect, useState } from 'react';\nimport './styles.scss';\n\ninterface IPagingProps extends React.HTMLAttributes<HTMLDivElement> {\n    className?: string;\n    currentPage?: number;\n    totalItem?: number;\n    itemPerPage?: number;\n    onPageChange?: Function;\n}\n\nconst Paging = (props: IPagingProps) => {\n    const { className = '', currentPage = 1, totalItem = 10, itemPerPage = 8, onPageChange = () => { }, ...rest } = props;\n    const [pages, setPages] = useState([]);\n    const [pagingInfo, setPagingInfo] = useState({ totalPage: 0, fromItem: 0, toItem: 0 })\n\n\n    const getPageList = ({ totalPages, page, maxLength }) => {\n        function range(start, end) {\n            return Array.from(Array(end - start + 1), (_, i) => i + start);\n        }\n\n        var sideWidth = maxLength < 9 ? 1 : 2;\n        var leftWidth = (maxLength - sideWidth * 2 - 3) >> 1;\n        var rightWidth = (maxLength - sideWidth * 2 - 2) >> 1;\n        if (totalPages <= maxLength) {\n            // no breaks in list\n            return range(1, totalPages);\n        }\n        if (page <= maxLength - sideWidth - 1 - rightWidth) {\n            // no break on left of page\n            return range(1, maxLength - sideWidth - 1)\n                .concat(0, range(totalPages - sideWidth + 1, totalPages));\n        }\n        if (page >= totalPages - sideWidth - 1 - rightWidth) {\n            // no break on right of page\n            return range(1, sideWidth)\n                .concat(0, range(totalPages - sideWidth - 1 - rightWidth - leftWidth, totalPages));\n        }\n        // Breaks on both sides\n        return range(1, sideWidth)\n            .concat(0, range(page - leftWidth, page + rightWidth),\n                0, range(totalPages - sideWidth + 1, totalPages));\n    }\n\n    useEffect(() => {\n        let _pages = range(1, Math.ceil(totalItem / itemPerPage))\n        setPagingInfo({\n            totalPage: _pages.length,\n            fromItem: (currentPage - 1) * itemPerPage + 1,\n            toItem: getToItem(totalItem, currentPage, itemPerPage)\n        })\n        let pageList = getPageList({ totalPages: _pages.length, page: currentPage, maxLength: 9 })\n        setPages(pageList)\n    }, [currentPage, itemPerPage, totalItem])\n\n\n    const getToItem = (totalItem, currentPage, itemPerPage) => {\n        return (totalItem - ((currentPage - 1) * itemPerPage) < itemPerPage) ? totalItem : currentPage * itemPerPage\n    }\n\n    const range = (from, to, step = 1) => {\n        let i = from;\n        const range = [];\n\n        while (i <= to) {\n            range.push(i);\n            i += step;\n        }\n\n        return range;\n    }\n\n    const onButtonClick = (page) => {\n        onPageChange(page)\n    }\n\n    return (\n        <div className={`imiui-paging ${className || ''}`} {...rest}>\n            <p className={'imiui-paging__title t-label-regular-tiny'}>{`${pagingInfo.fromItem} - ${pagingInfo.toItem} of ${totalItem}`}</p>\n            <div className={'imiui-paging__list'}>\n                <button\n                    className={'imiui-paging__button arrow'}\n                    disabled={currentPage === 1}\n                    onClick={() => onButtonClick(currentPage - 1)}>\n                    <ArrowLeftIcon width={20} height={20} fill={'var(--imiui-gray-200)'} />\n                </button>\n                {pages.map((item, index) => {\n                    if (item !== 0) {\n                        return (\n                            <button key={index}\n                                onClick={() => onButtonClick(item)}\n                                className={`imiui-paging__button t-label-regular-tiny ${item === currentPage && `imiui-paging__buttonSelecting`}`}\n                                disabled={item === currentPage}>{item}</button>\n                        )\n                    }\n                    return (\n                        <button key={index}\n                            className={`imiui-paging__button t-label-regular-tiny ${item === currentPage && `imiui-paging__buttonSelecting`}`}\n                            disabled={item === currentPage}>...</button>\n                    )\n                })}\n                <button className={'imiui-paging__button arrow'}\n                    onClick={() => onButtonClick(currentPage + 1)}\n                    disabled={currentPage === pagingInfo.totalPage}>\n                    <ArrowRightIcon width={20} height={20} fill={'var(--imiui-gray-200)'} />\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default Paging;"],"names":[],"mappings":"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"}