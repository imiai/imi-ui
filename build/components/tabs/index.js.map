{"version":3,"file":"index.js","sources":["../../../src/components/tabs/index.tsx"],"sourcesContent":["import React, { Children, useEffect, useLayoutEffect, useState } from 'react';\nimport useMediaQuery from '../../hooks/useMediaQuery';\nimport './styles.scss';\n\ninterface ITabHeaderProps {\n    title: string;\n    count: number | undefined;\n}\n\ninterface ITabsProps {\n    headers: Array<ITabHeaderProps>;\n    className: string;\n    children: React.ReactNode;\n}\n\ninterface ITabItem {\n    title: string;\n    onClick?: React.MouseEventHandler;\n    active: boolean;\n}\n\nconst Tabs = (props: ITabsProps) => {\n    const { headers = [], className = '', children } = props;\n    const [currentTabIndex, setCurrentTabIndex] = useState(0);\n    const [tabItemWidths, setTabItemWidths] = useState([]);\n    const [activeLineWidth, setActiveLineWidth] = useState(0);\n    const [activeLineLeft, setActiveLineLeft] = useState(0);\n    const isMobile = useMediaQuery('(max-width: 768px)')\n\n    useLayoutEffect(() => {\n        let itemWidths = [];\n        for (let i = 0; i < headers.length; i++) {\n            let id = `imiui-tab-${i}`;\n            let elWidth = document.getElementById(id)?.clientWidth || 0;\n            itemWidths.push(elWidth);\n        }\n        setTabItemWidths(itemWidths);\n    }, [headers.length])\n\n    useEffect(() => {\n        setActiveLineWidth(tabItemWidths[currentTabIndex]);\n        let left = 0;\n        let gap = isMobile ? 16 : 24;\n        for (let i = 0; i < currentTabIndex; i++) {\n            left = left + gap + tabItemWidths[i]\n        }\n        setActiveLineLeft(left)\n    }, [isMobile, currentTabIndex, tabItemWidths])\n\n    return (\n        <div className={`imiui-tabs ${className}`}>\n            <div className='imiui-tabs__header'>\n                {headers.map((header, index) => {\n                    return (\n                        <button key={index} id={`imiui-tab-${index}`} className={`item${currentTabIndex === index ? ' active' : ''}`} onClick={() => setCurrentTabIndex(index)}>\n                            <span className='t-label-semibold-supertiny'>{header.title}</span>\n                            {header.count !== undefined && <div className='count t-label-semibold-supertiny c-gray-300'>{header.count}</div>}\n                        </button>\n                    )\n                })}\n                <div style={{ left: `${activeLineLeft}px`, width: activeLineWidth }} className=\"active-line\" />\n            </div>\n            {children && Children.count(children) > 0 ? children[currentTabIndex] : <></>}\n        </div>\n    )\n}\n\nexport const TabItem = (props: ITabItem) => {\n    const { title, active, onClick } = props;\n    return (\n        <button className={`imiui-tabs__item${active ? ' active' : 'inactive'}`} onClick={onClick}>\n            <span className='t-label-bold-small'>{title}</span>\n        </button>\n    )\n}\n\nexport default Tabs;"],"names":[],"mappings":"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"}