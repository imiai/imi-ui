{"version":3,"file":"index.js","sources":["../../../src/components/input/index.tsx"],"sourcesContent":["import { CloseT2Icon } from \"../../icons\";\nimport React, { Fragment } from \"react\";\nimport './styles.scss';\nimport Card from \"../card\";\n\ninterface ISelectItem {\n    label: string;\n    value: any;\n}\n\ninterface IInputProps extends React.HTMLProps<HTMLInputElement> {\n    onClear?: Function;\n    endIcon?: React.ReactNode;\n    onEndIconClick?: Function;\n    isError?: Boolean;\n    withLabel?: Boolean;\n    hint?: string;\n    error?: string;\n    options?: Array<ISelectItem>;\n    renderOption?: Function;\n}\n\nconst Input = (props: IInputProps) => {\n    const { renderOption = () => {}, options = [], placeholder = '', className, withLabel = false, hint = '', error = '', isError = false, onClear, endIcon, onEndIconClick, ...rest } = props;\n    const [focused, setFocused] = React.useState(false)\n\n    const onFocus = () => setFocused(true)\n    const onBlur = () => {\n        let timer = setTimeout(() => {\n            setFocused(false);\n            clearTimeout(timer);\n        }, 100)\n    }\n\n    const getInputWidth = () => {\n        let minus = 32;\n        if (onClear && endIcon) {\n            minus += 60 + 16;\n            return minus;\n        }\n        if (onClear || endIcon) {\n            minus += 20 + 16;\n            return minus;\n        }\n    }\n\n    const onInputChange = (event: any, option: any) => {\n        if (option) {\n            event.target.value = option.value;\n            rest.onChange(event)\n        } else {\n            rest.onChange(event)\n        }\n    }\n\n    return (\n        <Fragment>\n            <div className={`imiui-input${isError ? ' error' : ''}${rest.disabled ? ' disabled' : ''}${withLabel ? ' label' : ''}`}>\n                <input {...rest} onFocus={onFocus} onBlur={onBlur} onChange={(event) => onInputChange(event, null) } className={`t-label-regular-tiny${className ? ` ${className}` : ''}`} placeholder={placeholder} style={{ width: `calc(100% - ${getInputWidth()}px` }} />\n                {withLabel && <label>{placeholder}</label>}\n                <div className=\"icon-container\">\n                    {onClear && !rest.disabled &&\n                        <button className=\"icon close\">\n                            <CloseT2Icon />\n                        </button>}\n                    {onClear && endIcon && <hr />}\n                    {endIcon &&\n                        <button className=\"icon\" onClick={onEndIconClick ? () => onEndIconClick() : () => { }}>\n                            {endIcon}\n                        </button>\n                    }\n                </div>\n                {focused && <Card className=\"autocomplete-options\" variant='dialogue'>\n                    {options.map((option, index) => {\n                        return (\n                            <button key={index} onClick={(event) => onInputChange(event, option)} className={'t-label-regular-tiny'}>\n                                {renderOption(option)}\n                            </button>\n                        )\n                    })}\n                </Card>}\n            </div>\n            {!error && hint && <span className=\"imiui-input-note hint t-label-regular-supertiny\">{hint}</span>}\n            {error && <span className=\"imiui-input-note error t-label-regular-supertiny\">{error}</span>}\n        </Fragment>\n    )\n}\n\nexport default Input;"],"names":[],"mappings":"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"}